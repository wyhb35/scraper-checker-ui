{"ast":null,"code":"var _jsxFileName = \"/Users/hong/react/scraper-checker-ui/src/d3Sample.js\",\n  _s = $RefreshSig$();\nimport { useD3 } from './hooks/useD3';\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BarChart(_ref) {\n  _s();\n  let {\n    data\n  } = _ref;\n  const ref = useD3(svg => {\n    const height = 500;\n    const width = 500;\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40\n    };\n    const x = d3.scaleBand().domain(data.map(d => d.year)).rangeRound([margin.left, width - margin.right]).padding(0.1);\n    const y1 = d3.scaleLinear().domain([0, d3.max(data, d => d.sales)]).rangeRound([height - margin.bottom, margin.top]);\n    const xAxis = g => g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).tickValues(d3.ticks(...d3.extent(x.domain()), width / 40).filter(v => x(v) !== undefined)).tickSizeOuter(0));\n    const y1Axis = g => g.attr(\"transform\", `translate(${margin.left},0)`).style(\"color\", \"steelblue\").call(d3.axisLeft(y1).ticks(null, \"s\")).call(g => g.select(\".domain\").remove()).call(g => g.append(\"text\").attr(\"x\", -margin.left).attr(\"y\", 10).attr(\"fill\", \"currentColor\").attr(\"text-anchor\", \"start\").text(data.y1));\n    svg.select(\".x-axis\").call(xAxis);\n    svg.select(\".y-axis\").call(y1Axis);\n    svg.select(\".plot-area\").attr(\"fill\", \"steelblue\").selectAll(\".bar\").data(data).join(\"rect\").attr(\"class\", \"bar\").attr(\"x\", d => x(d.year)).attr(\"width\", x.bandwidth()).attr(\"y\", d => y1(d.sales)).attr(\"height\", d => y1(0) - y1(d.sales));\n  }, [data.length]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: ref,\n    style: {\n      height: 500,\n      width: \"100%\",\n      marginRight: \"0px\",\n      marginLeft: \"0px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"plot-area\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"x-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(BarChart, \"r127xTdrGuIqcYXTmMbvPxoKAyo=\", false, function () {\n  return [useD3];\n});\n_c = BarChart;\nexport default BarChart;\nvar _c;\n$RefreshReg$(_c, \"BarChart\");","map":{"version":3,"names":["useD3","React","d3","BarChart","data","ref","svg","height","width","margin","top","right","bottom","left","x","scaleBand","domain","map","d","year","rangeRound","padding","y1","scaleLinear","max","sales","xAxis","g","attr","call","axisBottom","tickValues","ticks","extent","filter","v","undefined","tickSizeOuter","y1Axis","style","axisLeft","select","remove","append","text","selectAll","join","bandwidth","length","marginRight","marginLeft"],"sources":["/Users/hong/react/scraper-checker-ui/src/d3Sample.js"],"sourcesContent":["import { useD3 } from './hooks/useD3';\nimport React from 'react';\nimport * as d3 from 'd3';\n\nfunction BarChart({ data }) {\n  const ref = useD3(\n    (svg) => {\n      const height = 500;\n      const width = 500;\n      const margin = { top: 20, right: 30, bottom: 30, left: 40 };\n\n      const x = d3\n        .scaleBand()\n        .domain(data.map((d) => d.year))\n        .rangeRound([margin.left, width - margin.right])\n        .padding(0.1);\n\n      const y1 = d3\n        .scaleLinear()\n        .domain([0, d3.max(data, (d) => d.sales)])\n        .rangeRound([height - margin.bottom, margin.top]);\n\n      const xAxis = (g) =>\n        g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(\n          d3\n            .axisBottom(x)\n            .tickValues(\n              d3\n                .ticks(...d3.extent(x.domain()), width / 40)\n                .filter((v) => x(v) !== undefined)\n            )\n            .tickSizeOuter(0)\n        );\n\n      const y1Axis = (g) =>\n        g\n          .attr(\"transform\", `translate(${margin.left},0)`)\n          .style(\"color\", \"steelblue\")\n          .call(d3.axisLeft(y1).ticks(null, \"s\"))\n          .call((g) => g.select(\".domain\").remove())\n          .call((g) =>\n            g\n              .append(\"text\")\n              .attr(\"x\", -margin.left)\n              .attr(\"y\", 10)\n              .attr(\"fill\", \"currentColor\")\n              .attr(\"text-anchor\", \"start\")\n              .text(data.y1)\n          );\n\n      svg.select(\".x-axis\").call(xAxis);\n      svg.select(\".y-axis\").call(y1Axis);\n\n      svg\n        .select(\".plot-area\")\n        .attr(\"fill\", \"steelblue\")\n        .selectAll(\".bar\")\n        .data(data)\n        .join(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", (d) => x(d.year))\n        .attr(\"width\", x.bandwidth())\n        .attr(\"y\", (d) => y1(d.sales))\n        .attr(\"height\", (d) => y1(0) - y1(d.sales));\n    },\n    [data.length]\n  );\n\n  return (\n    <svg\n      ref={ref}\n      style={{\n        height: 500,\n        width: \"100%\",\n        marginRight: \"0px\",\n        marginLeft: \"0px\",\n      }}\n    >\n      <g className=\"plot-area\" />\n      <g className=\"x-axis\" />\n      <g className=\"y-axis\" />\n    </svg>\n  );\n}\n\nexport default BarChart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}